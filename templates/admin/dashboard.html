{% extends 'layout/admin_layout.html' %}

{% block title %}Dashboard{% endblock %}

{% block header %}Dashboard{% endblock %}

{% block content %}
<!-- Alert Container for notifications -->
<div id="alertContainer"></div>

<!-- Stats Cards Row -->
<div class="row g-4 mb-4">
    <!-- Total Sales Stats -->
    <div class="col-md-6 col-xl-3">
        <div class="card dashboard-stat-card h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <h6 class="card-title text-muted">Total Sales</h6>
                        <h3 class="mt-3 mb-2">$125,850</h3>
                        <p class="text-success mb-0">
                            <i class="fas fa-arrow-up me-1"></i>
                            <span>12.5% Increase</span>
                        </p>
                    </div>
                    <div class="rounded-circle p-3 bg-primary bg-opacity-25">
                        <i class="fas fa-dollar-sign stat-icon text-primary"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Total Orders Stats -->
    <div class="col-md-6 col-xl-3">
        <div class="card dashboard-stat-card h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <h6 class="card-title text-muted">Total Orders</h6>
                        <h3 class="mt-3 mb-2">1,250</h3>
                        <p class="text-success mb-0">
                            <i class="fas fa-arrow-up me-1"></i>
                            <span>8.3% Increase</span>
                        </p>
                    </div>
                    <div class="rounded-circle p-3 bg-info bg-opacity-25">
                        <i class="fas fa-shopping-bag stat-icon text-info"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Total Customers Stats -->
    <div class="col-md-6 col-xl-3">
        <div class="card dashboard-stat-card h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <h6 class="card-title text-muted">Total Customers</h6>
                        <h3 class="mt-3 mb-2">8,540</h3>
                        <p class="text-success mb-0">
                            <i class="fas fa-arrow-up me-1"></i>
                            <span>5.7% Increase</span>
                        </p>
                    </div>
                    <div class="rounded-circle p-3 bg-success bg-opacity-25">
                        <i class="fas fa-users stat-icon text-success"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Average Order Value Stats -->
    <div class="col-md-6 col-xl-3">
        <div class="card dashboard-stat-card h-100">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <h6 class="card-title text-muted">Avg. Order Value</h6>
                        <h3 class="mt-3 mb-2">$100.68</h3>
                        <p class="text-danger mb-0">
                            <i class="fas fa-arrow-down me-1"></i>
                            <span>2.1% Decrease</span>
                        </p>
                    </div>
                    <div class="rounded-circle p-3 bg-warning bg-opacity-25">
                        <i class="fas fa-chart-line stat-icon text-warning"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Sales Overview and Top Products -->
<div class="row mb-4">
    <!-- Sales Overview Chart -->
    <div class="col-lg-8 mb-4 mb-lg-0">
        <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Sales Overview</h5>
                <div class="dropdown">
                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="salesTimeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        This Year
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="salesTimeDropdown">
                        <li><a class="dropdown-item" href="#">This Month</a></li>
                        <li><a class="dropdown-item" href="#">This Quarter</a></li>
                        <li><a class="dropdown-item active" href="#">This Year</a></li>
                        <li><a class="dropdown-item" href="#">All Time</a></li>
                    </ul>
                </div>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="salesChart"></canvas>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Top Products Chart -->
    <div class="col-lg-4">
        <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Best Selling Products</h5>
                <button class="btn btn-sm btn-outline-secondary">
                    <i class="fas fa-download me-1"></i> Export
                </button>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="productsChart"></canvas>
                </div>
            </div>
            <div class="card-footer bg-transparent border-0">
                <a href="#" class="btn btn-link text-decoration-none">View Full Report <i class="fas fa-arrow-right ms-1"></i></a>
            </div>
        </div>
    </div>
</div>

<!-- Customer Distribution and Recent Orders -->
<div class="row mb-4">
    <!-- Customer Distribution Chart -->
    <div class="col-lg-5 mb-4 mb-lg-0">
        <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Customer Distribution</h5>
                <div class="dropdown">
                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="customerDistroDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        By Region
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="customerDistroDropdown">
                        <li><a class="dropdown-item active" href="#">By Region</a></li>
                        <li><a class="dropdown-item" href="#">By Country</a></li>
                        <li><a class="dropdown-item" href="#">By City</a></li>
                        <li><a class="dropdown-item" href="#">By Age Group</a></li>
                    </ul>
                </div>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="customerChart"></canvas>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Recent Orders Table -->
    <div class="col-lg-7">
        <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Recent Orders</h5>
                <a href="#" class="btn btn-sm btn-outline-primary">View All</a>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table mb-0">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Status</th>
                                <th>Date</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#ORD-2023-10-1234</td>
                                <td>John Doe</td>
                                <td><span class="badge bg-info">Shipped</span></td>
                                <td>Oct 15, 2023</td>
                                <td>$1,814.37</td>
                            </tr>
                            <tr>
                                <td>#ORD-2023-10-1233</td>
                                <td>Sarah Johnson</td>
                                <td><span class="badge bg-success">Delivered</span></td>
                                <td>Oct 14, 2023</td>
                                <td>$679.99</td>
                            </tr>
                            <tr>
                                <td>#ORD-2023-10-1232</td>
                                <td>Michael Chen</td>
                                <td><span class="badge bg-warning">Processing</span></td>
                                <td>Oct 14, 2023</td>
                                <td>$129.95</td>
                            </tr>
                            <tr>
                                <td>#ORD-2023-10-1231</td>
                                <td>Emily Rodriguez</td>
                                <td><span class="badge bg-success">Delivered</span></td>
                                <td>Oct 13, 2023</td>
                                <td>$2,199.99</td>
                            </tr>
                            <tr>
                                <td>#ORD-2023-10-1230</td>
                                <td>David Smith</td>
                                <td><span class="badge bg-danger">Cancelled</span></td>
                                <td>Oct 12, 2023</td>
                                <td>$349.99</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Order Status and Revenue -->
<div class="row mb-4">
    <!-- Order Status Chart -->
    <div class="col-lg-4 mb-4 mb-lg-0">
        <div class="card h-100">
            <div class="card-header">
                <h5 class="mb-0">Order Status Distribution</h5>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="orderStatusChart"></canvas>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Revenue Chart -->
    <div class="col-lg-8">
        <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Revenue (This Month)</h5>
                <div class="dropdown">
                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="revenueTimeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                        Weekly
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="revenueTimeDropdown">
                        <li><a class="dropdown-item" href="#">Daily</a></li>
                        <li><a class="dropdown-item active" href="#">Weekly</a></li>
                        <li><a class="dropdown-item" href="#">Monthly</a></li>
                    </ul>
                </div>
            </div>
            <div class="card-body">
                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Inventory Status and Recent Activities -->
<div class="row">
    <!-- Inventory Status -->
    <div class="col-lg-5 mb-4 mb-lg-0">
        <div class="card h-100">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">Inventory Status</h5>
                <a href="{{ url_for('admin_inventory') }}" class="btn btn-sm btn-outline-primary">
                    <i class="fas fa-boxes me-1"></i> Manage
                </a>
            </div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table mb-0">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Stock</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Premium Ultrabook</td>
                                <td>45</td>
                                <td><span class="badge bg-success">In Stock</span></td>
                            </tr>
                            <tr>
                                <td>Wireless Headphones</td>
                                <td>28</td>
                                <td><span class="badge bg-success">In Stock</span></td>
                            </tr>
                            <tr>
                                <td>Smartphone Pro</td>
                                <td>12</td>
                                <td><span class="badge bg-warning">Low Stock</span></td>
                            </tr>
                            <tr>
                                <td>Tablet Pro</td>
                                <td>0</td>
                                <td><span class="badge bg-danger">Out of Stock</span></td>
                            </tr>
                            <tr>
                                <td>Mechanical Keyboard</td>
                                <td>65</td>
                                <td><span class="badge bg-success">In Stock</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Recent Activities -->
    <div class="col-lg-7">
        <div class="card h-100">
            <div class="card-header">
                <h5 class="mb-0">Recent Activities</h5>
            </div>
            <div class="card-body">
                <div class="order-timeline">
                    <div class="timeline-item">
                        <div class="timeline-icon">
                            <i class="fas fa-user-plus text-white small"></i>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <h6 class="fw-bold mb-0">New Customer Registration</h6>
                            <small class="text-muted">10 minutes ago</small>
                        </div>
                        <p class="mb-0">Emily Rodriguez created a new account</p>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon">
                            <i class="fas fa-shopping-cart text-white small"></i>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <h6 class="fw-bold mb-0">New Order Placed</h6>
                            <small class="text-muted">25 minutes ago</small>
                        </div>
                        <p class="mb-0">Order #ORD-2023-10-1235 was placed by Michael Chen</p>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon">
                            <i class="fas fa-box text-white small"></i>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <h6 class="fw-bold mb-0">Product Inventory Updated</h6>
                            <small class="text-muted">1 hour ago</small>
                        </div>
                        <p class="mb-0">Admin user updated inventory for 5 products</p>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon">
                            <i class="fas fa-star text-white small"></i>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <h6 class="fw-bold mb-0">New Product Review</h6>
                            <small class="text-muted">2 hours ago</small>
                        </div>
                        <p class="mb-0">Sarah Johnson left a 5-star review for "Wireless Headphones"</p>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon">
                            <i class="fas fa-truck text-white small"></i>
                        </div>
                        <div class="d-flex justify-content-between mb-2">
                            <h6 class="fw-bold mb-0">Order Shipped</h6>
                            <small class="text-muted">3 hours ago</small>
                        </div>
                        <p class="mb-0">Order #ORD-2023-10-1230 was shipped to John Doe</p>
                    </div>
                </div>
            </div>
            <div class="card-footer bg-transparent">
                <a href="#" class="btn btn-link text-decoration-none">View All Activities <i class="fas fa-arrow-right ms-1"></i></a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Any page-specific JavaScript can go here
</script>
{% endblock %}
